{% extends 'base.html' %}
{% block content %}

<h2>ğŸ¢ Cadastro de Empresa</h2>
<form method="post" novalidate>
    {% csrf_token %}

    <label><strong>Nome da Empresa:</strong></label><br>
    <input type="text" name="nome" required class="form-control mb-3" placeholder="Nome da empresa"><br>

    <label><strong>CNPJ:</strong></label><br>
    <input type="text" name="cnpj" required class="form-control mb-3" placeholder="Somente nÃºmeros, 14 dÃ­gitos" pattern="\d{14}" title="Informe 14 dÃ­gitos numÃ©ricos, sem pontos ou traÃ§os"><br>

    <h4>Setores e FuncionÃ¡rios</h4>
    <div id="setores">
        <div class="setor mb-3">
            <input type="text" name="setores[]" placeholder="Nome do Setor" required class="form-control d-inline-block w-75 me-2" style="max-width: 400px;">
            <input type="number" name="funcionarios[]" placeholder="NÂº de FuncionÃ¡rios" min="1" required class="form-control d-inline-block w-25" style="max-width: 150px;">
        </div>
    </div>

    <button type="button" onclick="addSetor()" class="btn btn-outline-primary mb-4">â• Adicionar Setor</button><br>

    <button type="submit" class="btn btn-success">ğŸ’¾ Cadastrar Empresa</button>
</form>

<script>
function addSetor() {
    const div = document.createElement("div");
    div.classList.add("setor", "mb-3");
    div.innerHTML = `
        <input type="text" name="setores[]" placeholder="Nome do Setor" required class="form-control d-inline-block w-75 me-2" style="max-width: 400px;">
        <input type="number" name="funcionarios[]" placeholder="NÂº de FuncionÃ¡rios" min="1" required class="form-control d-inline-block w-25" style="max-width: 150px;">
    `;
    document.getElementById("setores").appendChild(div);
}
</script>

{% endblock %}
